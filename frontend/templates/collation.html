{% extends "standard.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "_graph_render_macro.html" as graph_m %}

{% block title %}{{ collation.name }}{% endblock %}

{% block topscripts %}
{{ super() }}
<script src="{{ m.static('scripts/charts_ajax.js') }}"></script>
{% endblock %}

{% block sections %}
<section class="page-section portfolio first-section bg-primary pb-5 pt-5 round-bottom">
    <div class="container">
        <div class="text-center">
            <h2 class="page-section-heading text-secondary mb-0 d-inline-block text-uppercase">{{ collation.name }}</h2>
        </div>
        <div class="text-center">
            <span class="mr-3"><a href="" data-toggle="modal" data-target="#rename-collation-modal" class="text-secondary">rename</a></span>
            <span class="ml-3"><a href="{{ url_for('main.remove_collation_confirm', id=collation.id) }}" class="text-secondary">remove</a></span>
        </div>
    </div>
</section>

<nav aria-label="breadcrumb">
  <ol class="breadcrumb mt-4 ml-5 mr-5">
    <li class="breadcrumb-item"><a href="{{ url_for('main.index') }}">Main page</a></li>
    <li class="breadcrumb-item"><a href="{{ url_for('main.account') }}">Account</a></li>
    <li class="breadcrumb-item active" aria-current="page">Collation</li>
  </ol>
</nav>

<section>
    {% if collation.graphs %}
    <div class="container-fluid pt-2 pb-3" style="min-height: 300px">
        <div class="card-columns">
            {% for graph in collation.graphs %}
                {{ graph_m.render(graph) }}
            {% endfor %}
        </div>
    </div>
    {% else %}
        <div class="text-center" style="padding: 100px">
            <h2 class="page-section-heading mb-0 d-inline-block" style="color: gray">No graphs in this collation</h2>
        </div>
    {% endif %}
</section>

{% include "_rename_collation_modal.html" %}
{% endblock %}
